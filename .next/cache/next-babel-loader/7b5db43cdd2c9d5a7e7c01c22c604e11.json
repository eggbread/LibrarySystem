{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gyeongmin\\\\LibrarySystem\\\\pages\\\\list.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { ListGroup, Table } from \"react-bootstrap\";\nimport Layout from \"../components/Layout\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\n\nconst list = ({\n  url: {\n    query: {\n      bookName\n    }\n  }\n}) => {\n  const isReceiveList = useRef(false);\n  const {\n    0: listData,\n    1: setListData\n  } = useState([]);\n  useEffect(() => {\n    if (!isReceiveList.current) {\n      axios.get(\"http://localhost:4000/list\", {\n        params: {\n          bookName: bookName\n        }\n      }).then(res => {\n        setListData(res.data);\n        isReceiveList.current = true;\n      });\n    }\n  });\n  const router = useRouter();\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Result of \", router.query.bookName), __jsx(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, __jsx(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, __jsx(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Title\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Author\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Company\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"ISBN\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Available\"))), listData.map(data => __jsx(Link, {\n    href: `/book?bookName=${data.title}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, __jsx(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, __jsx(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, data.title), __jsx(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, data.author), __jsx(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, data.company), __jsx(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, data.ISBN), __jsx(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, data.use ? \"Available\" : \"Unavailable\"))))));\n};\n\nexport default list;","map":{"version":3,"sources":["C:/Users/gyeongmin/LibrarySystem/pages/list.js"],"names":["ListGroup","Table","Layout","useRouter","Link","useEffect","useState","useRef","axios","list","url","query","bookName","isReceiveList","listData","setListData","current","get","params","then","res","data","router","map","title","author","company","ISBN","use"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,KAApB,QAAiC,iBAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,MAA9B,QAA4C,OAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,IAAI,GAAG,CAAC;AACZC,EAAAA,GAAG,EAAE;AACHC,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF;AADJ;AADO,CAAD,KAIP;AACJ,QAAMC,aAAa,GAAGN,MAAM,CAAC,KAAD,CAA5B;AACA,QAAM;AAAA,OAACO,QAAD;AAAA,OAAWC;AAAX,MAA0BT,QAAQ,CAAC,EAAD,CAAxC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACQ,aAAa,CAACG,OAAnB,EAA4B;AAC1BR,MAAAA,KAAK,CACFS,GADH,CACO,4BADP,EACqC;AACjCC,QAAAA,MAAM,EAAE;AACNN,UAAAA,QAAQ,EAAEA;AADJ;AADyB,OADrC,EAMGO,IANH,CAMQC,GAAG,IAAI;AACXL,QAAAA,WAAW,CAACK,GAAG,CAACC,IAAL,CAAX;AACAR,QAAAA,aAAa,CAACG,OAAd,GAAsB,IAAtB;AACD,OATH;AAUD;AACF,GAbQ,CAAT;AAcA,QAAMM,MAAM,GAAGnB,SAAS,EAAxB;AAEA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAemB,MAAM,CAACX,KAAP,CAAaC,QAA5B,CADF,EAEE,MAAC,KAAD;AAAO,IAAA,OAAO,MAAd;AAAe,IAAA,QAAQ,MAAvB;AAAwB,IAAA,KAAK,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,CADF,CADF,EAUGE,QAAQ,CAACS,GAAT,CAAaF,IAAI,IAChB,MAAC,IAAD;AAAM,IAAA,IAAI,EAAG,kBAAiBA,IAAI,CAACG,KAAM,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKH,IAAI,CAACG,KAAV,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKH,IAAI,CAACI,MAAV,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKJ,IAAI,CAACK,OAAV,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKL,IAAI,CAACM,IAAV,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKN,IAAI,CAACO,GAAL,GAAW,WAAX,GAAyB,aAA9B,CALF,CADF,CADD,CAVH,CAFF,CADF;AA2BD,CAnDD;;AAoDA,eAAenB,IAAf","sourcesContent":["import { ListGroup, Table } from \"react-bootstrap\";\r\nimport Layout from \"../components/Layout\";\r\nimport { useRouter } from \"next/router\";\r\nimport Link from \"next/link\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst list = ({\r\n  url: {\r\n    query: { bookName }\r\n  }\r\n}) => {\r\n  const isReceiveList = useRef(false);\r\n  const [listData, setListData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!isReceiveList.current) {\r\n      axios\r\n        .get(\"http://localhost:4000/list\", {\r\n          params: {\r\n            bookName: bookName\r\n          }\r\n        })\r\n        .then(res => {\r\n          setListData(res.data);\r\n          isReceiveList.current=true;\r\n        });\r\n    }\r\n  });\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <Layout>\r\n      <h3>Result of {router.query.bookName}</h3>\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th>Title</th>\r\n            <th>Author</th>\r\n            <th>Company</th>\r\n            <th>ISBN</th>\r\n            <th>Available</th>\r\n          </tr>\r\n        </thead>\r\n        {listData.map(data => (\r\n          <Link href={`/book?bookName=${data.title}`}>\r\n            <tr>\r\n              <td>{data.title}</td>\r\n              <td>{data.author}</td>\r\n              <td>{data.company}</td>\r\n              <td>{data.ISBN}</td>\r\n              <td>{data.use ? \"Available\" : \"Unavailable\"}</td>\r\n            </tr>\r\n          </Link>\r\n        ))}\r\n      </Table>\r\n    </Layout>\r\n  );\r\n};\r\nexport default list;\r\n"]},"metadata":{},"sourceType":"module"}