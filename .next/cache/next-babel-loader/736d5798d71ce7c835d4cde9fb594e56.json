{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\gyeongmin\\\\LibrarySystem\\\\pages\\\\Header.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Button, Navbar, Image, Nav, Form, Modal, Col } from \"react-bootstrap\";\nimport { useState, useReducer, useRef } from \"react\";\nimport useData from \"./hooks/headerHook\";\nimport axios from \"axios\";\n\nvar Header = function Header() {\n  var _useData = useData(\"modal\"),\n      _useData2 = _slicedToArray(_useData, 2),\n      modal = _useData2[0],\n      dispatchModal = _useData2[1];\n\n  var _useData3 = useData(\"signin\"),\n      _useData4 = _slicedToArray(_useData3, 2),\n      SI = _useData4[0],\n      dispatchSI = _useData4[1];\n\n  var _useData5 = useData(\"isLogin\"),\n      _useData6 = _slicedToArray(_useData5, 2),\n      isLogin = _useData6[0],\n      setLogin = _useData6[1];\n\n  var userId = useRef(\"\");\n\n  var SignIn =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(userId, userPw) {\n      var check;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post(\"http://localhost:4000/signin\", {\n                userId: userId,\n                userPw: userPw\n              });\n\n            case 2:\n              check = _context.sent;\n\n              if (check.data) {\n                setLogin(true);\n                userId.current = check.data;\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function SignIn(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var loginBtn;\n\n  if (!isLogin) {\n    loginBtn = __jsx(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, __jsx(Button, {\n      style: {\n        margin: \"0 10px\"\n      },\n      variant: \"dark\",\n      onClick: function onClick() {\n        return dispatchModal(\"openSI\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"Sign in\"), __jsx(Button, {\n      variant: \"dark\",\n      onClick: function onClick() {\n        return dispatchModal(\"openSU\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Sign up\"));\n  } else {\n    loginBtn = __jsx(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, __jsx(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, isLogin), __jsx(Button, {\n      variant: \"dark\",\n      onClick: function onClick() {\n        return setLogin(false);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Log out\"));\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Navbar, {\n    bg: \"dark\",\n    variant: \"dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(Navbar.Brand, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"CNU Library\"), __jsx(Nav, {\n    className: \"mr-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(Nav.Link, {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Home\"), __jsx(Nav.Link, {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"about\"), __jsx(Nav.Link, {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Contact\")), loginBtn), __jsx(Modal, {\n    show: modal.showSI,\n    onHide: function onHide() {\n      return dispatchModal(\"hideSI\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, __jsx(Modal.Header, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(Modal.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Sign In\")), __jsx(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, __jsx(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"ID\"), __jsx(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter ID\",\n    onInput: function onInput(ref) {\n      return dispatchSI({\n        type: \"setId\",\n        userId: ref.target.value\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })), __jsx(Form.Group, {\n    controlId: \"formBasicPassword\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Password\"), __jsx(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    onInput: function onInput(ref) {\n      return dispatchSI({\n        type: \"setPw\",\n        userPw: ref.target.value\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), __jsx(Form.Group, {\n    controlId: \"formBasicCheckbox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, __jsx(Form.Check, {\n    type: \"checkbox\",\n    label: \"Check me out\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })))), __jsx(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(Button, {\n    variant: \"secondary\",\n    onClick: function onClick() {\n      return dispatchModal(\"hideSI\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Close\"), __jsx(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    onClick:\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(ref) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(SI.userId && SI.userPw)) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _context2.next = 3;\n                return SignIn(SI.userId, SI.userPw);\n\n              case 3:\n                dispatchModal(\"hideSI\");\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Submit\"))), __jsx(Modal, {\n    show: modal.showSU,\n    onHide: function onHide() {\n      return dispatchModal(\"hideSU\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, __jsx(Modal.Header, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, __jsx(Modal.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Sign Up\")), __jsx(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, __jsx(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, __jsx(Form.Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, __jsx(Form.Group, {\n    as: Col,\n    controlId: \"formGridID\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"ID\"), __jsx(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter ID\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  })), __jsx(Form.Group, {\n    as: Col,\n    controlId: \"formGridPassword\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Password\"), __jsx(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }))), __jsx(Form.Group, {\n    controlId: \"formGridName\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, \"Name\"), __jsx(Form.Control, {\n    placeholder: \"Name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  })), __jsx(Form.Group, {\n    controlId: \"formGridEmail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"email\"), __jsx(Form.Control, {\n    type: \"email\",\n    placeholder: \"Email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  })), __jsx(Form.Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, __jsx(Form.Group, {\n    as: Col,\n    controlId: \"formGridPhone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"Phone\"), __jsx(Form.Control, {\n    type: \"phone\",\n    placeholder: \"Phone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  })), __jsx(Form.Group, {\n    as: Col,\n    controlId: \"formGridJob\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"Job\"), __jsx(Form.Control, {\n    as: \"select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, __jsx(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"Bachelor\"), __jsx(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"Master\"), __jsx(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"Staff\")))))), __jsx(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, __jsx(Button, {\n    variant: \"secondary\",\n    onClick: function onClick() {\n      return dispatchModal(\"hideSU\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \"Close\"), __jsx(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    onClick: function onClick() {\n      return dispatchModal(\"hideSU\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"Submit\"))));\n};\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/gyeongmin/LibrarySystem/pages/Header.js"],"names":["Button","Navbar","Image","Nav","Form","Modal","Col","useState","useReducer","useRef","useData","axios","Header","modal","dispatchModal","SI","dispatchSI","isLogin","setLogin","userId","SignIn","userPw","post","check","data","current","loginBtn","margin","showSI","ref","type","target","value","showSU"],"mappings":"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","sourcesContent":["import { Button, Navbar, Image, Nav, Form, Modal, Col } from \"react-bootstrap\";\r\nimport { useState, useReducer,useRef } from \"react\";\r\nimport useData from \"./hooks/headerHook\";\r\nimport axios from \"axios\";\r\n\r\nconst Header = () => {\r\n  const [modal, dispatchModal] = useData(\"modal\");\r\n  const [SI, dispatchSI] = useData(\"signin\");\r\n  const [isLogin, setLogin] = useData(\"isLogin\");\r\n  const userId = useRef(\"\")\r\n  const SignIn = async (userId, userPw) => {\r\n    var check = await axios.post(\"http://localhost:4000/signin\", {\r\n      userId: userId,\r\n      userPw: userPw\r\n    });\r\n    if (check.data) {\r\n      setLogin(true);\r\n      userId.current=check.data\r\n    }\r\n  };\r\n  var loginBtn;\r\n  if (!isLogin) {\r\n    loginBtn = (\r\n      <Form>\r\n        <Button\r\n          style={{ margin: \"0 10px\" }}\r\n          variant=\"dark\"\r\n          onClick={() => dispatchModal(\"openSI\")}\r\n        >\r\n          Sign in\r\n        </Button>\r\n        <Button variant=\"dark\" onClick={() => dispatchModal(\"openSU\")}>\r\n          Sign up\r\n        </Button>\r\n      </Form>\r\n    );\r\n  } else {\r\n    loginBtn = (\r\n      <Form>\r\n        <Form.Label >\r\n        {isLogin}\r\n        </Form.Label>\r\n        <Button variant=\"dark\" onClick={()=>setLogin(false)}>\r\n          Log out\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <Navbar bg=\"dark\" variant=\"dark\">\r\n        <Navbar.Brand href=\"/\">CNU Library</Navbar.Brand>\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link href=\"#\">Home</Nav.Link>\r\n          <Nav.Link href=\"#\">about</Nav.Link>\r\n          <Nav.Link href=\"#\">Contact</Nav.Link>\r\n        </Nav>\r\n        {loginBtn}\r\n      </Navbar>\r\n\r\n      <Modal show={modal.showSI} onHide={() => dispatchModal(\"hideSI\")}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Sign In</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group controlId=\"formBasicEmail\">\r\n              <Form.Label>ID</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter ID\"\r\n                onInput={ref =>\r\n                  dispatchSI({ type: \"setId\", userId: ref.target.value })\r\n                }\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formBasicPassword\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                onInput={ref =>\r\n                  dispatchSI({ type: \"setPw\", userPw: ref.target.value })\r\n                }\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formBasicCheckbox\">\r\n              <Form.Check type=\"checkbox\" label=\"Check me out\" />\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => dispatchModal(\"hideSI\")}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n            onClick={async ref => {\r\n              if (SI.userId && SI.userPw) {\r\n                await SignIn(SI.userId,SI.userPw);\r\n              }\r\n              dispatchModal(\"hideSI\");\r\n            }}\r\n          >\r\n            Submit\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <Modal show={modal.showSU} onHide={() => dispatchModal(\"hideSU\")}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Sign Up</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"formGridID\">\r\n                <Form.Label>ID</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter ID\" />\r\n              </Form.Group>\r\n\r\n              <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" placeholder=\"Password\" />\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Group controlId=\"formGridName\">\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control placeholder=\"Name\" />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formGridEmail\">\r\n              <Form.Label>email</Form.Label>\r\n              <Form.Control type=\"email\" placeholder=\"Email\" />\r\n            </Form.Group>\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"formGridPhone\">\r\n                <Form.Label>Phone</Form.Label>\r\n                <Form.Control type=\"phone\" placeholder=\"Phone\" />\r\n              </Form.Group>\r\n\r\n              <Form.Group as={Col} controlId=\"formGridJob\">\r\n                <Form.Label>Job</Form.Label>\r\n                <Form.Control as=\"select\">\r\n                  <option>Bachelor</option>\r\n                  <option>Master</option>\r\n                  <option>Staff</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Form.Row>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => dispatchModal(\"hideSU\")}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n            onClick={() => dispatchModal(\"hideSU\")}\r\n          >\r\n            Submit\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}