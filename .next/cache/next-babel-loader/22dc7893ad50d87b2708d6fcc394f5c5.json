{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gyeongmin\\\\LibrarySystem\\\\pages\\\\list.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { ListGroup, Table, Button } from \"react-bootstrap\";\nimport Layout from \"../components/Layout\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport Search from \"../components/Search\";\n\nvar list = function list(_ref) {\n  var bookName = _ref.url.query.bookName;\n  var isReceiveList = useRef(false);\n\n  var _useState = useState([]),\n      listData = _useState[0],\n      setListData = _useState[1];\n\n  useEffect(function () {\n    if (!isReceiveList.current) {\n      axios.get(\"http://localhost:4000/list\", {\n        params: {\n          bookName: bookName\n        }\n      }).then(function (res) {\n        setListData(res.data);\n        isReceiveList.current = true;\n      });\n    }\n  }, []);\n  var router = useRouter();\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, __jsx(Search, {\n    style: {\n      margin: \"5px 5px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), __jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Result of \", router.query.bookName), __jsx(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, __jsx(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, __jsx(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Title\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Author\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Company\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"ISBN\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Available\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Borrow / Reservation\"))), listData.map(function (data) {\n    return __jsx(Link, {\n      href: \"/book?bookName=\".concat(data.title),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, __jsx(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, data.title), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, data.author), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, data.company), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, data.ISBN), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, data.use ? \"Available\" : \"Unavailable\"), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, __jsx(Button, {\n      variant: \"outline-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Yes\"), __jsx(Button, {\n      variant: \"outline-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"No\"))));\n  })));\n};\n\nexport default list;","map":{"version":3,"sources":["C:/Users/gyeongmin/LibrarySystem/pages/list.js"],"names":["ListGroup","Table","Button","Layout","useRouter","Link","useEffect","useState","useRef","axios","Search","list","bookName","url","query","isReceiveList","listData","setListData","current","get","params","then","res","data","router","margin","map","title","author","company","ISBN","use"],"mappings":"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","sourcesContent":["import { ListGroup, Table,Button } from \"react-bootstrap\";\r\nimport Layout from \"../components/Layout\";\r\nimport { useRouter } from \"next/router\";\r\nimport Link from \"next/link\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport Search from \"../components/Search\"\r\n\r\nconst list = ({\r\n  url: {\r\n    query: { bookName }\r\n  }\r\n}) => {\r\n  const isReceiveList = useRef(false);\r\n  const [listData, setListData] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    if (!isReceiveList.current) {\r\n      axios\r\n        .get(\"http://localhost:4000/list\", {\r\n          params: {\r\n            bookName: bookName\r\n          }\r\n        })\r\n        .then(res => {\r\n          setListData(res.data);\r\n          isReceiveList.current=true;\r\n        });\r\n    }\r\n  },[]);\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <Layout>\r\n      <Search style={{ margin : \"5px 5px\" }}/>\r\n      <h3>Result of {router.query.bookName}</h3>\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th>Title</th>\r\n            <th>Author</th>\r\n            <th>Company</th>\r\n            <th>ISBN</th>\r\n            <th>Available</th>\r\n            <th>Borrow / Reservation</th>\r\n          </tr>\r\n        </thead>\r\n        {listData.map(data => (\r\n          <Link href={`/book?bookName=${data.title}`}>\r\n            <tr>\r\n              <td>{data.title}</td>\r\n              <td>{data.author}</td>\r\n              <td>{data.company}</td>\r\n              <td>{data.ISBN}</td>\r\n              <td>{data.use ? \"Available\" : \"Unavailable\"}</td>\r\n              <td><Button variant=\"outline-dark\">Yes</Button><Button variant=\"outline-dark\">No</Button></td>\r\n            </tr>\r\n          </Link>\r\n        ))}\r\n      </Table>\r\n    </Layout>\r\n  );\r\n};\r\nexport default list;\r\n"]},"metadata":{},"sourceType":"module"}